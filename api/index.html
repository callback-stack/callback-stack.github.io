
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <base href="/">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- preload -->
    
    <link href="https://fonts.googleapis.com/css2?family=Sulphur+Point:wght@700" rel="preload" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="preload" as="style">
    <link type="text/css" href="style.2e591fbd6f19ce564f719108234cd5cb.css" rel="stylesheet">
    
    <link 
      href="https://fonts.googleapis.com/css2?family=Sulphur+Point:wght@700" 
      rel="stylesheet"
      media="print" onload="this.media='all'"
    />
    <link 
      href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" 
      rel="stylesheet"
      media="print" onload="this.media='all'"
    />
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css" rel="stylesheet">
    <link href="/assets/highlightjs/androidstudio.css" rel="stylesheet">

    <meta name="description" content="***">
    <title>APIs</title>

    <meta property="og:type" content="website">
    <meta property="og:title" content="APIs">
    <meta property="og:url" content="https://callback-stack.github.io/api">
    <meta property="og:site_name" content="Verb Data">
    <meta property="og:image" content="https://callback-stack.github.io/assets/common/verb-og.png">
    <meta property="og:description" content="***">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
<!--    <meta property="og:image:alt" content="">-->

    <meta name="twitter:card" content="summary_large_image">
<!--    <meta name="twitter:creator" content="@">-->
<!--    <meta name="twitter:site" content="@">-->
    <meta name="twitter:description" content="***">
    <meta name="twitter:image" content="https://callback-stack.github.io/assets/common/verb-og.png">
    <meta name="twitter:title" content="APIs">
    
    <script src="/assets/highlightjs/highlight.pack.js"></script>
  </head>
  
  <body>

    <div id="root"><div class="layout-4dd"><div class="restricted-width"><div class="header-7be"><div class="container"><a class="logo" href="/">Callback Stack</a><div class="links"><a class="menu-item menu-item-255" href="/">Home</a><a class="menu-item menu-item-255 active" href="/api/">API</a><a class="menu-item menu-item-255" href="/docs/">Docs</a></div><div class="right-buttons"></div></div></div><div class="content"><div class="api-33o"><div class="components"><div class="component"><h2 class="name">State</h2><div class="params"><div class="title">Params:</div><div class="list"><div class="param">initValue</div>, <div class="param">getInitValue</div>, <div class="next">next</div></div></div><div class="next"><div class="title">Next value:</div><div class="object">An object with attributes:<!-- --> <div class="attribute">value</div>, <div class="attribute">change</div>, <div class="attribute">onChange</div></div></div><div class="content"><div class="">Sample:</div><div class="code-sample-4ej"><pre class="code-7vj"><code>import * as React from &quot;react&quot;;
import {cs, State} from &quot;cs-react&quot;;

const Example = () =&gt; cs(
    [&quot;count&quot;, ({}, next) =&gt; State({initValue: 0, next})],
    ({count})=&gt;(
        &lt;div&gt;
            Count: {count.value}
            &lt;button
                onClick={()=&gt;count.change((v)=&gt;v+1)}
            &gt;+&lt;/button&gt;

            &lt;button
                onClick={()=&gt;count.change((v)=&gt;v-1)}
            &gt;-&lt;/button&gt;
        &lt;/div&gt;
    ),
);</code></pre><div class="codepen">Here is the CodePen <a target="_blank" href="https://codepen.io/quanla/pen/JjEmOpP?editors=0010">demo</a></div></div><div class="">Both &quot;change&quot; and &quot;onChange&quot; functions are asynchronous, which means right after you change the state, the state.value won&#x27;t be changed immediately, instead, the change is scheduled and will be applied in future. For example:<div class="code-sample-4ej"><pre class="code-7vj"><code>import * as React from &quot;react&quot;;
import {cs, State} from &quot;cs-react&quot;;

const Example = () =&gt; cs(
    [&quot;state&quot;, ({}, next) =&gt; State({initValue: &quot;old value&quot;, next})],
    ({state})=&gt;(
        &lt;div&gt;
            &lt;div&gt;
                Current: {state.value}
            &lt;/div&gt;
            &lt;button
                onClick={()=&gt; {
                    state.onChange(&quot;new value&quot;);

                    console.log(state.value);
                    // This console.log code above will print &quot;old value&quot; (first time only)
                }}
            &gt;Change to &quot;new value&quot;&lt;/button&gt;

        &lt;/div&gt;
    ),
);</code></pre><div class="codepen">Here is the CodePen <a target="_blank" href="https://codepen.io/quanla/pen/ZEeEXZJ?editors=0011">demo</a></div></div></div></div></div><div class="component"><h2 class="name">ForceUpdate</h2><div class="content"></div></div><div class="component"><h2 class="name">Invoke</h2><div class="content"></div></div><div class="component"><h2 class="name">Static</h2><div class="content"></div></div><div class="component"><h2 class="name">StaticRef</h2><div class="content"></div></div><div class="component"><h2 class="name">fragments</h2><div class="content"></div></div><div class="component"><h2 class="name">bindInput</h2><div class="content"></div></div><div class="component"><h2 class="name">IgnoreUpdate</h2><div class="content"></div></div><div class="component"><h2 class="name">keyed</h2><div class="content"></div></div><div class="component"><h2 class="name">OnMounted</h2><div class="content"></div></div><div class="component"><h2 class="name">OnUnmounted</h2><div class="content"></div></div><div class="component"><h2 class="name">Effect</h2><div class="content"></div></div><div class="component"><h2 class="name">OnUpdate</h2><div class="content"></div></div><div class="component"><h2 class="name">consumeContext</h2><div class="content"></div></div><div class="component"><h2 class="name">provideContext</h2><div class="content"></div></div><div class="component"><h2 class="name">Load</h2><div class="content"></div></div><div class="component"><h2 class="name">Load2</h2><div class="content"></div></div><div class="component"><h2 class="name">scope</h2><div class="content"></div></div></div></div></div><div class="footer-46l"></div></div></div></div>
    
    <script src="bundle.e0a77563a65975b13bac.js" type="application/javascript" async></script>
  </body>
</html>
